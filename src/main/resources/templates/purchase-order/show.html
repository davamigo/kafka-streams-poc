<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Purchase Order - Kafka Streams PoC</title>
</head>
<body>
<h1>Kafka Streams PoC</h1>
<h2>Purchase Order</h2>

<div th:if="${null == purchaseOrder}">
    <p>
        The purchase order with id
        <strong th:text="${uuid}"></strong>
        was not found!
    </p>
</div>

<div th:if="${null != purchaseOrder}">
    <dl>
        <dt>Uuid:</dt>
        <dd>
            <strong>
                <a th:href="@{/purchase-order/{id}(id=${purchaseOrder.getUuid()})}" th:text="${purchaseOrder.getUuid()}"></a>
            </strong>
        </dd>

        <dt>Aggregation Key:</dt>
        <dd th:text="${purchaseOrder.getAggregationKey()}"></dd>

        <dt>Country:</dt>
        <dd th:text="${purchaseOrder.getCountry()}"></dd>

        <dt>Date:</dt>
        <dd th:text="${purchaseOrder.getDate()}"></dd>

        <dt>Total Amount:</dt>
        <dd th:text="${purchaseOrder.getTotalAmount()}"></dd>

        <dt>Total Quantity:</dt>
        <dd th:text="${purchaseOrder.getTotalQuantity()}"></dd>

        <dt>Lines:</dt>
        <dd th:if="${purchaseOrder.getLines().isEmpty()}">
            Purchase Order without lines!
        </dd>
        <dd th:if="${!purchaseOrder.getLines().isEmpty()}">
            <table>
                <thead>
                    <tr>
                        <th>Uuid</th>
                        <th>Aggregation Key</th>
                        <th>Product</th>
                        <th>Price</th>
                        <th>Quantity</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="purchaseOrderLine : ${purchaseOrder.getLines()}">
                        <td>
                            <strong th:text="${purchaseOrderLine.getUuid()}"></strong>
                        </td>
                        <td th:text="${purchaseOrderLine.getAggregationKey()}"></td>
                        <td th:text="${purchaseOrderLine.getProductUuid()}"></td>
                        <td th:text="${purchaseOrderLine.getPrice()}"></td>
                        <td th:text="${purchaseOrderLine.getQuantity()}"></td>
                    </tr>
                </tbody>
            </table>
        </dd>
    </dl>
</div>

<p>
    Navigation
    &ndash;
    <a th:href="@{/purchase-order}">Show purchase orders</a>
    &ndash;
    <a th:href="@{/}">Homepage</a>
</p>
</body>
</html>
